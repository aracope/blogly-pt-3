{% extends 'base.html' %}

{% block content %}
<h1>Recent Posts</h1>
<ul class="list-unstyled">
    {% for post in posts %}
    <li class="mb-3">
        <h5>
            <a href="{{ url_for('show_post', post_id=post.id) }}">{{ post.title }}</a>
        </h5>
        <p class="mb-1 text-muted">
            by {{ post.user.get_full_name() }}
            <br>
            {% if post.created_at %}
            <small>Posted on {{ post.created_at.strftime('%B %-d, %Y, %-I:%M %p') }}</small>
            {% else %}
            <small>Posted on unknown date</small>
            {% endif %}
        </p>
        <div>
            <strong>Tags:</strong>
            {% for tag in post.tags %}
            <span class="badge bg-primary">{{ tag.name }}</span>
            {% endfor %}
        </div>

    </li>
    {% else %}
    <li>No posts yet!</li>
    {% endfor %}
</ul>
</div>
{% endblock %}